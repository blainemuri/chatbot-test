@import 'mixins.styl'

button-width = space*4.7

@media screen and (-webkit-min-device-pixel-ratio:0) {
  select:focus,
  textarea:focus,
  input:focus {
    font-size: space*2
  }
}

.bot-chat-outer
  width: 100%
  height: "calc(100% - %s)" % nav-height
  float: left

  #bottom-input
    width: 100%
    position: fixed
    bottom: 0
    left: 0
    height: input-height
    line-height: input-height
    background-color: white

    .input
      width: 100%
      float: left
      height: input-height
      line-height: input-height
      border-top: 1px solid medium-grey

      form
        responsiveWidth()
        height: 100%
        position: relative
        margin: 0 auto
        overflow: hidden
        @media screen and (max-width: mobile)
          margin: 0 space
          width: "calc(100% - (%s * 2))" % space

        input
          width: 100%
          font-size: space*.9
          background-color: transparent
          height: 100%
          line-height: 100%
          position: absolute
          left: 0
          top: 50%
          transform: translateY(-50%)
          border: none
          &.send
            width: "calc(100% - %s)" % button-width
          @media screen and (max-width: mobile)
            font-size: space*.9
            height: 100%
            line-height: 100%

        button
          position: absolute
          right: - button-width
          top: 50%
          transform: translateY(-50%)
          width: button-width
          color: turqoise
          height: space*3
          border: 1px solid turqoise
          border-radius: 2px
          background-color: turqoise
          color: white
          font-weight: bold
          font-size: space*.9
          padding: 0
          transition: opacity .3s, right .3s ease
          opacity: 1
          cursor: pointer
          &:hover
            opacity: .7
          &.send
            right: 0

  #horizontal-center
    overflow-y: scroll /* has to be scroll, not auto */
    position: relative
    width: 100%
    float: left
    margin-top: nav-height
    height: "calc(100% - %s)" % input-height
    &.space
      animation: disolve .8s
      background: url('space.jpg') no-repeat center center fixed
      background-size: cover

    #chat-container
      responsiveWidth()
      position: absolute
      overflow-y: scroll /* has to be scroll, not auto */
      -webkit-overflow-scrolling: touch
      left: 50%
      transform: translateX(-50%)
      height: 100%

      .conversation
        width: 100%
        float: left

        .user-message, .bot-message
          position: relative
          float: left
          width: 100%
          padding: space*.4 0
          letter-spacing: .5px
          line-height: space*1.4
          font-size: space*.9

          .message
            float: left
            margin-left: space*1.5
            max-width: 75%
            box-sizing: border-box
            background-color: white
            min-height: space*2
            border-radius: 15px 15px 15px 3px
            padding: space*1.25
            transform: translateY(20px)
            opacity: 0

            p
              padding: 0
              margin: 0

        .user-message
          .message
            float: right
            margin-right: space
            border-radius: 15px 15px 3px 15px
            background-color: #8bf4d6
            // color: white
            // background-color: turqoise

          svg
            width: profile-size*3
            float: left
            background-color: white
            border-radius: 10px 10px 10px 3px
            padding: space*.5
            height: space*3
            margin-bottom: space
            margin-left: space

          .loading-dots
            position: absolute
            top: 107%

            circle
              fill: turqoise

@keyframes disolve
  from
    opacity: 0
  to
    opacity: 1

// @import 'params.styl'
//
// log-width = space*18
// log-height = space*25
//
// logs-5 = "calc((%s + (%s * 2)) * 5)" % (log-width space)
// logs-4 = "calc((%s + (%s * 2)) * 4)" % (log-width space)
// logs-3 = "calc((%s + (%s * 2)) * 3)" % (log-width space)
// logs-2 = "calc((%s + (%s * 2)) * 2)" % (log-width space)
// logs-1 = "calc((%s + (%s * 2)) * 1)" % (log-width space)
//
// body
//   -o-backface-visibility: hidden;
//   -moz-backface-visibility: hidden;
//   -webkit-backface-visibility: hidden;
//   backface-visibility: hidden;
//
// .chat-container
//   width 50%
//
// span.clear
//   clear: both
//   display: block
//
// svg.profile
//   width profile-size*2
//   height profile-size*2
//   border-radius profile-size
//   margin 0
//   padding 0
//
//   .cls-1
//     fill black
//     stroke white
//     z-index 4
//
//   .cls-2
//     fill none
//     stroke black
//     stroke-width 0.44px
//
// .giphy-embed
//   margin-top: space
//
// .chat-login
//   width 100%
//   height 100%
//   position fixed
//   text-align center
//   background-color off-black
//   animation fade-background 1s forwards
//   animation-delay .2s
//   z-index 1
//
//   .vertical-center
//     position absolute
//     top 50%
//     left 50%
//     transform translateY(-50%) translateX(-50%)
//
//     .inner-login
//       width space*20.5
//       padding 0
//       margin 0
//
//       .chat-logo
//         transform translateY(-20px)
//         animation move-down .6s forwards
//         z-index 1
//         width space*20
//         float left
//
//       .chat-login
//         transform translateY(-50px)
//         height nav-height
//         width space*20.5
//         left 0
//         box-sizing border-box
//         text-align center
//         animation move-login .6s forwards
//         float left
//         line-height nav-height
//         font-size header-font
//         border none
//         margin 0
//         padding 0
//         transition background-color .3s ease-in-out
//         cursor pointer
//         &:hover
//           background-color pale-turqoise
//
//       .chat-logo, .chat-login
//         animation-delay .2s
//
//       .credentials
//         z-index 3
//         opacity 0
//         width space*20.5
//         height space*25
//         background-color white
//
//         .inner-credentials
//           position absolute
//           width 100%
//           height 100%
//           text-align center
//
//           svg
//             margin-top space*1.5
//             overflow visible
//
//             #bowtie
//               cursor pointer
//
//           .headline
//             width 100%
//             height space*2
//             line-height space*2
//             font-family CircularPro-Book
//
//           span
//             font-family CircularPro-Book
//             font-size space-x-small
//             color grey-middle
//             cursor pointer
//             padding 0
//
//           form
//             .input-btn
//               width 50%
//               height nav-height*.8
//               border-radius 4px
//               text-shadow none
//               background-color white
//               border 1px solid grey-middle
//               text-decoration none
//               background-image none
//               // box-shadow 2px 2px 3px 1px light-gray
//               cursor pointer
//               padding 0
//               text-align center
//               font-family CircularPro-Bold
//               color grey-middle
//               margin-bottom 0
//               transition all .3s ease-in-out
//               &:hover
//                 border none
//                 background-color pale-turqoise
//                 color black
//                 box-shadow 2px 2px 6px 1px medium-gray
//                 border 1px solid pale-turqoise
//
//             div
//               width 80%
//               height nav-height*.7
//               margin space auto
//               position relative
//               margin-bottom space*2
//               margin-top space*1.5
//
//               .placeholder
//                 margin 0
//                 padding 0
//                 width 0
//                 height 0
//                 left 0
//                 transform translateY(-50%)
//                 top 40%
//                 color grey-middle
//                 text-align left
//
//               .background
//                 width 110%
//                 height 145%
//                 position absolute
//                 margin 0 auto
//                 top -30%
//                 left -5%
//                 opacity 0
//                 background-color pale-turqoise
//                 z-index -1
//
//               input
//                 width 100%
//                 height 100%
//                 position absolute
//                 left 0
//                 bottom 0
//                 font-size message-font
//                 background transparent
//                 height space*2
//                 &:active, &:focus
//                   &.red
//                     box-shadow 0px 0px 3px 1px error-red
//                   &.gray
//                     box-shadow 0px 0px 3px 1px light-gray
//                   &.green
//                     box-shadow 0px 0px 3px 1px success-green
//
// .chat-stats
//   width 100%
//   height "calc(100% - %s)" % nav-height
//
//   h2
//     height nav-height*2
//     border-bottom 1px solid light-gray
//     line-height nav-height*2
//     padding-left nav-height
//
// .bot-chat-outer, .bot-log-outer
//   width 100%
//   background-color white
//   color black
//   position: fixed
//   height: 100%
//   &.dark-theme
//     filter invert(100%)
//     -webkit-filter invert(100%)
//
//   .loading-cover
//     background-color dark-pastel-blue
//     width 100%
//     height 100%
//     position absolute
//     z-index 2
//
//   .toggle-theme
//     position absolute
//     top 0
//     right 0
//     margin space-x-small
//     width space*5
//     line-height nav-height
//     text-align center
//     height nav-height
//     font-size accent-font
//     background-color black
//     color white
//     transition background-color .3s ease-in-out
//     z-index 1
//     cursor pointer
//     border-radius space*2
//     &:hover
//       background-color dark-gray
//
//   #horizontal-center
//     position absolute
//     left 50%
//     transform translateX(-50%)
//     top 20px
//     opacity 0
//     height 100%
//
//     .chat-container
//       width space*50
//       height nav-height*6
//       position: absolute
//       top: 50%
//       left: 50%
//       transform: translateY(-50%) translateX(-50%)
//       box-sizing border-box
//       border 1px solid grey-light
//
//       .input
//         position relative
//         width 100%
//         height nav-height
//         padding 0 space*2
//         box-sizing border-box
//
//         .voice-input
//           float right
//           height nav-height*.8
//           margin-top nav-height*.1
//           width nav-height
//           background-color white
//           border 1px solid grey-light
//           box-sizing border-box
//           cursor pointer
//           color white
//           text-align center
//           vertical-align middle
//
//           img
//             position: absolute
//             left: 50%
//             transform: translateX(-50%)
//             height nav-height*.3
//             margin-top nav-height*.25
//             filter invert(100%)
//             -webkit-filter invert(100%)
//
//         input
//           width 100%
//           float left
//           height nav-height*.8
//           margin-top nav-height*.1
//           font-size message-font
//           padding-top nudge
//           padding-bottom nudge
//           padding-left 0
//           border-bottom 2px solid grey-light
//           padding space-x-small
//           font-style italic
//           border-radius: 7px
//           &:active, &:focus
//             font-style normal
//             padding-left space
//
// .conversation
//   position relative
//   width 100%
//   height nav-height*5
//   overflow-y auto
//   padding 0 space*2
//   box-sizing border-box
//
//   .bot-message, .user-message
//     position relative
//     width 100%
//
//     img
//       width profile-size
//       height profile-size
//       border-radius space*1.5
//       float left
//
//     svg
//       width profile-size
//       float left
//
//     .loading-dots
//       position: absolute
//       left: 40px
//       top: 105%
//
//       circle
//         fill: grey-light
//
//   .bot-message, .user-message
//     float left
//     margin-top space
//     margin-bottom space
//
//     .message
//       float left
//       margin-left space
//       max-width space*26
//       box-sizing border-box
//       background-color grey-light
//       min-height space*3
//       border-radius 0px 10px 10px 10px
//       padding space
//       transform translateY(20px)
//       opacity 0
//
//       .heading
//         width 100%
//         height space
//         line-height space
//         vertical-align middle
//
//         h3
//           font-size header-font
//           float left
//           margin 0
//
//         span
//           font-size accent-font
//           float left
//           color grey-middle
//           padding 0
//           margin 0 space-x-small
//
//         .options
//           float right
//           width space*4.5
//           height space*2
//           margin-top - space*.5
//
//           .up
//             background url('thumbs-up-disabled@3x.png')
//             &.selected
//               background url('thumbs-up-active@3x.png')
//               background-position center
//               background-repeat no-repeat
//               background-size contain
//
//           .down
//             background url('thumbs-down-disabled@3x.png')
//             margin-left space*.5
//             &.selected
//               background url('thumbs-down-active@3x.png')
//               background-position center
//               background-repeat no-repeat
//               background-size contain
//
//           .up, .down
//             cursor pointer
//             width space*1.5
//             height space*1.5
//             float right
//             background-position center
//             background-repeat no-repeat
//             background-size contain
//
//       p
//         font-size message-font
//         margin-top space-x-small
//         margin-bottom 0
//         width 100%
//         overflow auto
//         white-space normal
//
//       span
//         font-size accent-font
//         color white
//         margin-top space
//         position static
//
//   .user-message
//     float right
//
//     img
//       float right
//
//     .message
//       float right
//       margin-left 0
//       margin-right space
//       background-color pale-turqoise
//       border-radius 10px 0px 10px 10px
//
//       .heading
//         h3, span
//           float right
//
//         span
//           color white
//
//       p
//         text-align right
//
// .bot-log-outer
//   .log-options
//     position: fixed
//     left: 0
//     top: 0
//     height: nav-height*.5
//     margin-top: nav-height
//     width: 100%
//     background-color: grey-light
//     z-index: 2
//     line-height: nav-height*.5
//
//     .floated-inner
//       height: nav-height*.5
//       width: 100%
//       float: left
//       padding: 0 nav-height*2
//       box-sizing: border-box
//
//       .inner-sort
//         width: 100%
//         height: nav-height*.5
//         float: left
//         z-index: 2
//         background-color: grey-light
//         padding-left: space-x-small
//
//       .sort-by
//         width: nav-height*2.5
//         height: 100%
//         float: right
//         display: inline-table
//         cursor: pointer
//
//         .type
//           float: left
//
//         .arrow
//           float: right
//           height: nav-height*.2
//           padding-top: nav-height*.15
//           padding-right: space-small
//
//   .show-log
//     opacity 0
//     position fixed
//     width 100vw
//     height 100vh
//     padding 0
//     border-bottom 0px
//     left 0
//     top 0
//     z-index 1000000
//     transform translateX(0) translateY(0)
//     display block
//     z-index 2
//
//     .log-mask
//       width 100%
//       height 100%
//       background-color white
//       opacity .85
//
//     .show-log-container
//       position absolute
//       width space*50
//       height "calc(100% - (%s * 2))" % nav-height
//       left 50%
//       top 50%
//       transform translateX(-50%) translateY(-50%)
//       background-color white
//       box-shadow 0px 0px 4px 0px rgba(166,166,166,1)
//
//       .conversation
//         width 100%
//         float left
//         height "calc(100% - %s)" % nav-height
//
//       .header
//         width 100%
//         float left
//         height nav-height
//         line-height nav-height
//         margin 0
//         padding 0 space
//         vertical-align middle
//         box-sizing border-box
//         background-color black
//         color white
//
//         h3
//           float left
//
//         .close
//           float right
//           font-size accent-font
//           padding-top nudge
//           cursor pointer
//           color grey-middle
//
//   #horizontal-center
//     width 100%
//
//     .log-container
//       width logs-5
//       height 100%
//       padding-top nav-height*1.5
//       box-sizing border-box
//       margin 0 auto
//       @media screen and (max-width: 1600px)
//         width logs-4
//       @media screen and (max-width: 1280px)
//         width logs-3
//       @media screen and (max-width: 960px)
//         width logs-2
//       @media screen and (max-width: 640px)
//         width logs-1
//
//       .log-tile
//         width log-width
//         height log-height
//         margin space
//         opacity 0
//         transform translateY(30px)
//         border 1px solid light-gray
//         box-sizing border-box
//         display inline-block
//         cursor pointer
//         box-shadow 0px 0px 4px 0px rgba(166,166,166,1)
//         transition box-shadow .3s ease
//         -o-backface-visibility: hidden;
//         -moz-backface-visibility: hidden;
//         -webkit-backface-visibility: hidden;
//         backface-visibility: hidden;
//         &:hover
//           box-shadow 0px 0px 12px 0px rgba(166,166,166,1)
//
//         .header-left, .header-right
//           height nav-height
//           border-bottom 1px solid light-gray
//           padding 0
//           margin 0
//           box-sizing border-box
//           color white
//           background-color black
//
//         .header-left
//           width 67%
//           float left
//           padding-left space
//
//           .username
//             padding-top nudge*3
//
//           span
//             font-size message-font
//             color grey-middle
//
//         .header-right
//           width 33%
//           float right
//           text-align center
//
//           img
//             width profile-size
//             height profile-size
//             border-radius profile-size*.5
//             margin-top nudge*5
//
//         p
//           position relative
//           float left
//           font-size message-font
//           width log-width
//           height "calc(%s - (%s * 2))" % (log-height nav-height)
//           overflow visible
//           white-space normal
//           box-sizing border-box
//           padding space
//           color black
//
// #loading, #loading2
//   width nav-height
//   height nav-height
//   border-radius nav-height*.5
//   position absolute
//   left 50%
//   top 50%
//   transform translateX(-50%) translateY(-50%)
//   background-color pale-turqoise
//
// #loading2
//   background-color white
//
// @keyframes move-login
//   from
//     transform translateY(-50px)
//     background-color pastel-blue-4
//   to
//     transform translateY(0px)
//     background-color bright-blue
//
// @keyframes move-down
//   from
//     transform translateY(-20px)
//   to
//     transform translateY(0px)
//
// @keyframes fade-background
//   from
//     background-color off-black
//   to
//     background-color black
